{
  "id": "memory-mongodb",
  "kind": "memory",
  "uiHints": {
    "uri": {
      "label": "MongoDB URI",
      "sensitive": true,
      "placeholder": "mongodb://localhost:27017",
      "help": "MongoDB connection string (or use ${MONGODB_URI})"
    },
    "database": {
      "label": "Database Name",
      "placeholder": "openclaw_memory"
    },
    "agentId": {
      "label": "Agent ID",
      "placeholder": "default",
      "advanced": true
    },
    "tls.caFile": {
      "label": "TLS CA File",
      "advanced": true
    },
    "tls.certKeyFile": {
      "label": "TLS Certificate Key File",
      "advanced": true
    },
    "tls.allowInvalidCerts": {
      "label": "Allow Invalid TLS Certificates",
      "advanced": true
    },
    "autoCapture": {
      "label": "Auto-Capture",
      "help": "Automatically capture important information from conversations"
    },
    "autoRecall": {
      "label": "Auto-Recall",
      "help": "Automatically inject relevant memories into context"
    },
    "dbFirst": {
      "label": "DB-First Bootstrap",
      "help": "Replace workspace files with DB content at agent bootstrap (MongoBrain becomes source of truth)",
      "advanced": true
    },
    "routing.enabled": {
      "label": "Dynamic Model Routing",
      "help": "Route each message to the optimal model based on prompt complexity (fast for chat, heavy for code)"
    },
    "routing.defaultTier": {
      "label": "Default Routing Tier",
      "help": "Fallback tier when classification is uncertain (fast/mid/heavy)",
      "advanced": true
    },
    "routing.cacheTtlMs": {
      "label": "Routing Cache TTL (ms)",
      "help": "How often to refresh routing context from DB (default: 60000)",
      "advanced": true
    }
  },
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "uri": {
        "type": "string"
      },
      "database": {
        "type": "string"
      },
      "agentId": {
        "type": "string"
      },
      "tls": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "caFile": { "type": "string" },
          "certKeyFile": { "type": "string" },
          "allowInvalidCerts": { "type": "boolean" }
        }
      },
      "autoCapture": {
        "type": "boolean"
      },
      "autoRecall": {
        "type": "boolean"
      },
      "dbFirst": {
        "type": "boolean"
      },
      "routing": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": { "type": "boolean" },
          "defaultTier": { "type": "string" },
          "cacheTtlMs": { "type": "number" }
        }
      }
    },
    "required": ["uri"]
  }
}
